export const ocgKeywordDataList = [
    {
        shortForm: '召喚扱',
        rubyForm: '{召|しょう}{喚|かん}{扱|あつか}',
    },
    {
        shortForm: 'カード',
        rubyForm: 'カード',
    },
    {
        shortForm: 'デュエル',
        rubyForm: 'デュエル',
    },
    {
        shortForm: 'マッチ',
        rubyForm: 'マッチ',
    },
    {
        shortForm: 'ターン',
        rubyForm: 'ターン',
    },
    {
        shortForm: 'プレイヤー',
        rubyForm: 'プレイヤー',
    },
    {
        shortForm: '自分',
        rubyForm: '{自|じ}{分|ぶん}',
    },
    {
        shortForm: '相手',
        rubyForm: '{相|あい}{手|て}',
    },
    {
        shortForm: 'ＬＰ',
        regexForm: '(?<!\\w)ＬＰ(?!\\w)',
        rubyForm: '{ＬＰ|ライフポイント}',
    },
    {
        shortForm: 'デッキ',
        rubyForm: 'デッキ',
    },
    {
        shortForm: 'メイン',
        rubyForm: 'メイン',
    },
    {
        shortForm: 'サイド',
        rubyForm: 'サイド',
    },
    {
        shortForm: 'ＥＸ',
        regexForm: '(?<!\\w)ＥＸ(?!\\w)',
        rubyForm: '{ＥＸ|エクストラ}',
    },
    {
        shortForm: 'フィールド',
        rubyForm: 'フィールド',
    },
    {
        shortForm: '墓地',
        rubyForm: '{墓|ぼ}{地|ち}',
    },
    {
        shortForm: '手札',
        rubyForm: '{手|て}{札|ふだ}',
    },
    {
        shortForm: 'ゾーン',
        rubyForm: 'ゾーン',
    },
    {
        shortForm: 'モンスター',
        rubyForm: 'モンスター',
    },
    {
        shortForm: '縦列',
        rubyForm: '{縦|たて}{列|れつ}',
    },
    {
        shortForm: 'コントローラー',
        rubyForm: 'コントローラー',
    },
    {
        shortForm: '持ち主',
        rubyForm: '{持|も}ち{主|ぬし}',
    },
    {
        shortForm: 'ダメージ',
        rubyForm: 'ダメージ',
    },
    {
        shortForm: '戦闘',
        rubyForm: '{戦|せん}{闘|とう}',
    },
    {
        shortForm: 'スペル',
        rubyForm: 'スペル',
    },
    {
        shortForm: 'スピード',
        rubyForm: 'スピード',
    },
    {
        shortForm: 'チェーン',
        rubyForm: 'チェーン',
    },
    {
        shortForm: 'ブロック',
        rubyForm: 'ブロック',
    },
    {
        shortForm: '直接',
        rubyForm: '{直|ちょく}{接|せつ}',
    },
    {
        shortForm: '素材',
        rubyForm: '{素|そ}{材|ざい}',
    },
    {
        shortForm: '名',
        rubyForm: '{名|めい}',
    },
    {
        shortForm: '条件',
        rubyForm: '{条|じょう}{件|けん}',
    },
    {
        shortForm: 'コイン',
        rubyForm: 'コイン',
    },
    {
        shortForm: 'サイコロ',
        rubyForm: 'サイコロ',
    },
    {
        shortForm: '元',
        rubyForm: '{元|もと}',
    },
    {
        shortForm: '先',
        rubyForm: '{先|さき}',
    },
    {
        shortForm: '状態',
        rubyForm: '{状|じょう}{態|たい}',
    },
    {
        shortForm: '相互',
        rubyForm: '{相|そう}{互|ご}',
    },
    {
        shortForm: 'エクストラ',
        rubyForm: 'エクストラ',
    },
    {
        shortForm: 'フェイズ',
        rubyForm: 'フェイズ',
    },
    {
        shortForm: 'ドロー',
        rubyForm: 'ドロー',
    },
    {
        shortForm: 'スタンバイ',
        rubyForm: 'スタンバイ',
    },
    {
        shortForm: 'バトル',
        rubyForm: 'バトル',
    },
    {
        shortForm: 'エンド',
        rubyForm: 'エンド',
    },
    {
        shortForm: 'スタート',
        rubyForm: 'スタート',
    },
    {
        shortForm: 'ステップ',
        rubyForm: 'ステップ',
    },
    {
        shortForm: '種類',
        rubyForm: '{種|しゅ}{類|るい}',
    },
    {
        shortForm: '形式',
        rubyForm: '{形|けい}{式|しき}',
    },
    {
        shortForm: '表側',
        rubyForm: '{表|おもて}{側|がわ}',
    },
    {
        shortForm: '裏側',
        rubyForm: '{裏|うら}{側|がわ}',
    },
    {
        shortForm: '表示',
        rubyForm: '{表|ひょう}{示|じ}',
    },
    {
        shortForm: '罠',
        rubyForm: '{罠|トラップ}',
    },
    {
        shortForm: 'アクション',
        rubyForm: 'アクション',
    },
    {
        shortForm: '装備',
        rubyForm: '{装|そう}{備|び}',
    },
    {
        shortForm: '速攻',
        rubyForm: '{速|そっ}{攻|こう}',
    },
    {
        shortForm: '永続',
        rubyForm: '{永|えい}{続|ぞく}',
    },
    {
        shortForm: 'カウンター',
        rubyForm: 'カウンター',
    },
    {
        shortForm: 'レベル',
        rubyForm: 'レベル',
    },
    {
        shortForm: 'ランク',
        rubyForm: 'ランク',
    },
    {
        shortForm: 'スケール',
        rubyForm: 'スケール',
    },
    {
        shortForm: '攻撃力',
        rubyForm: '{攻|こう}{撃|げき}{力|りょく}',
    },
    {
        shortForm: '守備力',
        rubyForm: '{守|しゅ}{備|び}{力|りょく}',
    },
    {
        shortForm: '属性',
        rubyForm: '{属|ぞく}{性|せい}',
    },
    {
        shortForm: '種族',
        rubyForm: '{種|しゅ}{族|ぞく}',
    },
    {
        shortForm: '効果',
        rubyForm: '{効|こう}{果|か}',
    },
    {
        shortForm: '融合',
        rubyForm: '{融|ゆう}{合|ごう}',
    },
    {
        shortForm: '儀式',
        rubyForm: '{儀|ぎ}{式|しき}',
    },
    {
        shortForm: 'マキシマム',
        rubyForm: 'マキシマム',
    },
    {
        shortForm: 'トークン',
        rubyForm: 'トークン',
    },
    {
        shortForm: 'チューナー',
        rubyForm: 'チューナー',
    },
    {
        shortForm: 'デュアル',
        rubyForm: 'デュアル',
    },
    {
        shortForm: 'リバース',
        rubyForm: 'リバース',
    },
    {
        shortForm: 'トゥーン',
        rubyForm: 'トゥーン',
    },
    {
        shortForm: 'スピリット',
        rubyForm: 'スピリット',
    },
    {
        shortForm: 'ユニオン',
        rubyForm: 'ユニオン',
    },
    {
        shortForm: '光',
        rubyForm: '{光|ひかり}',
    },
    {
        shortForm: '闇',
        rubyForm: '{闇|やみ}',
    },
    {
        shortForm: '地',
        rubyForm: '{地|ち}',
    },
    {
        shortForm: '水',
        rubyForm: '{水|みず}',
    },
    {
        shortForm: '炎',
        rubyForm: '{炎|ほのお}',
    },
    {
        shortForm: '風',
        rubyForm: '{風|かぜ}',
    },
    {
        shortForm: '獣戦士',
        rubyForm: '{獣|じゅう}{戦|せん}{士|し}',
    },
    {
        shortForm: '創造神',
        rubyForm: '{創|そう}{造|ぞう}{神|しん}',
    },
    {
        shortForm: 'サイバース',
        rubyForm: 'サイバース',
    },
    {
        shortForm: '恐竜',
        rubyForm: '{恐|きょう}{竜|りゅう}',
    },
    {
        shortForm: '幻神獣',
        rubyForm: '{幻|げん}{神|しん}{獣|じゅう}',
    },
    {
        shortForm: '天使',
        rubyForm: '{天|てん}{使|し}',
    },
    {
        shortForm: '悪魔',
        rubyForm: '{悪|あく}{魔|ま}',
    },
    {
        shortForm: '魚',
        rubyForm: '{魚|さかな}',
    },
    {
        shortForm: 'ギャラクシー',
        rubyForm: 'ギャラクシー',
    },
    {
        shortForm: '幻想魔',
        rubyForm: '{幻|げん}{想|そう}{魔|ま}',
    },
    {
        shortForm: '昆虫',
        rubyForm: '{昆|こん}{虫|ちゅう}',
    },
    {
        shortForm: '機械',
        rubyForm: '{機|き}{械|かい}',
    },
    {
        shortForm: '植物',
        rubyForm: '{植|しょく}{物|ぶつ}',
    },
    {
        shortForm: '爬虫類',
        rubyForm: '{爬|は}{虫|ちゅう}{類|るい}',
    },
    {
        shortForm: '岩石',
        rubyForm: '{岩|がん}{石|せき}',
    },
    {
        shortForm: '海竜',
        rubyForm: '{海|かい}{竜|りゅう}',
    },
    {
        shortForm: '魔法使い',
        rubyForm: '{魔|ま}{法|ほう}{使|つか}い',
    },
    {
        shortForm: '雷',
        rubyForm: '{雷|いかずち}',
    },
    {
        shortForm: '鳥獣',
        rubyForm: '{鳥|ちょう}{獣|じゅう}',
    },
    {
        shortForm: '幻竜',
        rubyForm: '{幻|げん}{竜|りゅう}',
    },
    {
        shortForm: 'アンデット',
        rubyForm: 'アンデット',
    },
    {
        shortForm: 'サイボーグ',
        rubyForm: 'サイボーグ',
    },
    {
        shortForm: '天界戦士',
        rubyForm: '{天|てん}{界|かい}{戦|せん}{士|し}',
    },
    {
        shortForm: 'ハイドラゴン',
        rubyForm: 'ハイドラゴン',
    },
    {
        shortForm: '魔導騎士',
        rubyForm: '{魔|ま}{導|どう}{騎|き}{士|し}',
    },
    {
        shortForm: 'オメガ',
        rubyForm: 'オメガ',
    },
    {
        shortForm: 'サイキック',
        rubyForm: 'サイキック',
    },
    // {
    //     shortForm: '捨てる',
    //     rubyForm: '{捨|す}てる',
    // },
    // {
    //     shortForm: '加える',
    //     rubyForm: '{加|くわ}える',
    // },
    // {
    //     shortForm: 'から離れる',
    //     rubyForm: 'から{離|はな}れる',
    // },
    // {
    //     shortForm: '与える',
    //     rubyForm: '{与|あた}える',
    // },
    // {
    //     shortForm: '重ねる',
    //     rubyForm: '{重|かさ}ねる',
    // },
    // {
    //     shortForm: '取り除く',
    //     rubyForm: '{取|と}り{除|ぞ}く',
    // },
    // {
    //     shortForm: '見せる',
    //     rubyForm: '{見|み}せる',
    // },
    // {
    //     shortForm: '払う',
    //     rubyForm: '{払|はら}う',
    // },
    // {
    //     shortForm: '行う',
    //     rubyForm: '{行|おこな}う',
    // },
    // {
    //     shortForm: '選ぶ',
    //     rubyForm: '{選|えら}ぶ',
    // },
    // {
    //     shortForm: '対す',
    //     rubyForm: '{対|たい}す',
    // },
    // {
    //     shortForm: '戻す',
    //     rubyForm: '{戻|もど}す',
    // },
    // {
    //     shortForm: '送る',
    //     rubyForm: '{送|おく}る',
    // },
    // {
    //     shortForm: '置く',
    //     rubyForm: '{置|お}く',
    // },
    // {
    //     shortForm: 'めくる',
    //     rubyForm: 'めくる',
    // },
    {
        shortForm: 'アドバンス',
        rubyForm: 'アドバンス',
    },
    {
        shortForm: '反転',
        rubyForm: '{反|はん}{転|てん}',
    },
    {
        shortForm: '特殊',
        rubyForm: '{特|とく}{殊|しゅ}',
    },
    {
        shortForm: '発動',
        rubyForm: '{発|はつ}{動|どう}',
    },
    {
        shortForm: '破壊',
        rubyForm: '{破|は}{壊|かい}',
    },
    {
        shortForm: '対象',
        rubyForm: '{対|たい}{象|しょう}',
    },
    {
        shortForm: '無効',
        rubyForm: '{無|む}{効|こう}',
    },
    {
        shortForm: '攻撃',
        rubyForm: '{攻|こう}{撃|げき}',
    },
    {
        shortForm: '処理',
        rubyForm: '{処|しょ}{理|り}',
    },
    {
        shortForm: '宣言',
        rubyForm: '{宣|せん}{言|げん}',
    },
    {
        shortForm: '除外',
        rubyForm: '{除|じょ}{外|がい}',
    },
    {
        shortForm: 'リリース',
        rubyForm: 'リリース',
    },
    {
        shortForm: 'スキップ',
        rubyForm: 'スキップ',
    },
    {
        shortForm: 'シャッフル',
        rubyForm: 'シャッフル',
    },
    {
        shortForm: 'コントロール',
        rubyForm: 'コントロール',
    },
    {
        shortForm: 'セット',
        rubyForm: 'セット',
    },
    {
        shortForm: 'Ｓ',
        rubyForm: '{Ｓ|シンクロ}',
    },
    {
        shortForm: 'Ｘ',
        rubyForm: '{Ｘ|エクシーズ}',
    },
    {
        shortForm: 'Ｌ',
        rubyForm: '{Ｌ|リンク}',
    },
    {
        shortForm: 'Ｐ',
        regexForm: '(?<!\\w)Ｐ(?!\\w)',
        rubyForm: '{Ｐ|ペンデュラム}',
    },
    {
        shortForm: 'リンク',
        rubyForm: 'リンク',
    },
    {
        shortForm: '守備',
        rubyForm: '{守|しゅ}{備|び}',
    },
    {
        shortForm: '通常',
        rubyForm: '{通|つう}{常|じょう}',
    },
    {
        shortForm: '神',
        rubyForm: '{神|かみ}',
    },
    {
        shortForm: '獣',
        rubyForm: '{獣|けもの}',
    },
    {
        shortForm: 'ドラゴン',
        rubyForm: 'ドラゴン',
    },
    {
        shortForm: 'サイキック',
        rubyForm: 'サイキック',
    },
    {
        shortForm: '魔法',
        rubyForm: '{魔|ま}{法|ほう}',
    },
    {
        shortForm: '戦士',
        rubyForm: '{戦|せん}{士|し}',
    },
    {
        shortForm: '召喚',
        rubyForm: '{召|しょう}{喚|かん}',
    },
    {
        shortForm: '合計',
        rubyForm: '{合|ごう}{計|けい}',
    },
    {
        shortForm: '以上',
        rubyForm: '{以|い}{上|じょう}',
    },
    {
        shortForm: '場合',
        rubyForm: '{場|ば}{合|あい}',
    },
    {
        shortForm: '降臨',
        rubyForm: '{降|こう}{臨|りん}',
    },
    {
        shortForm: '他',
        rubyForm: '{他|ほか}',
    },
    {
        shortForm: '度',
        rubyForm: '{度|ど}',
    },
    {
        shortForm: '時',
        rubyForm: '{時|とき}',
    },
];
export const ocgKeywordDataMap = ocgKeywordDataList.reduce((acc, cur) => {
    acc[cur.shortForm] = cur;
    return acc;
}, {} as Record<string, typeof ocgKeywordDataList[0]>);
export const NB_WORD_OPEN = '⦉';
export const NB_WORD_CLOSE = '⦊';
export const NB_LINE_OPEN = '⟅';
export const NB_LINE_CLOSE = '⟆';

/** Không sử dụng cờ `g` vì cờ này sẽ advance internal state của regex khi test */
export const SPECIAL_LETTER_JOINLIST = '#@∞';
export const SPECIAL_LETTER_REGEX = new RegExp(`[${SPECIAL_LETTER_JOINLIST}]`);
export const CHIISAI_KANA_JOINLIST = 'ヽヾーァィゥェォッャュョヮヵヶぁぃぅぇぉっゃゅょゎゕゖㇰㇱㇲㇳㇴㇵㇶㇷㇸㇹㇺㇻㇼㇽㇾㇿ々〻';
export const OCG_KEYWORD_JOIN_REGEX = ocgKeywordDataList.map(entry => entry.regexForm ?? entry.shortForm).join('|');
export const ocgKeywordRegexSource = `(${OCG_KEYWORD_JOIN_REGEX})(?!.*})`;
export const ocgRubyRegexSource = '{[^{}]+?}';
/** Các ký tự sau không được ở đầu dòng, vậy nên ta nối nó với một ký tự phía trước */
export const mustNotAtLineStartRegexSource = `.[${CHIISAI_KANA_JOINLIST})\\]｝〕〉》」｣』】〙〗〟'"’”｠»‐゠–〜？!‼⁇⁈⁉・、:;,。.｡､]+`;
/** Các ký tự sau không được ở cuối dòng, vậy nên ta nối nó với một ký tự phía sau. ● là ký tự đại diện cho bullet. */
export const mustNotAtLineEndRegexSource = '[(\\[｛〔〈《「｢『【〘〖〝\'"‘“｟«●]+.';
export const mustNotSplitRegexSource = '.[—...‥〳〴〵]+.';
export const ocgBulletRegexSource = '[①-⑳]：.';
export const OCG_ALPHABET_REGEX_SOURCE = '[Ａ-Ｚａ-ｚ]';
export const OCG_ALPHABET_REGEX = new RegExp(OCG_ALPHABET_REGEX_SOURCE);
export const ocgWholeWordRegexSource = `[${SPECIAL_LETTER_JOINLIST}a-zA-Z0-9!+×Ａ-Ｚａ-ｚ！＃０-９‘“’”]+`;

export const CHIISAI_REGEX = new RegExp(`[${CHIISAI_KANA_JOINLIST}]`);
export const CHIISAI_RATIO = 0.750;
export const OCG_NUMBER_REGEX = new RegExp('[０-９]');
export const OCG_NUMBER_RATIO = 0.800;
export const HIRAGANA_REGEX = /[あいうえおかがきぎくぐけげこごさざしじすずせぜそぞただちぢつづてでとどなにぬねのはばぱひびぴふぶぷへべぺほぼぽまみむめもやゆよらりるれろわゐゑをんゔ]/;
export const HIRAGANA_RATIO = 0.875;
export const KATAKANA_REGEX = /[アイウエオカガキギクグケゲコゴサザシジスズセゼソゾタダチヂツヅテデトドナニヌネノハバパヒビピフブプヘベペホボポマミムメモヤユヨラリルレロワヰヱヲンヴヷヸヹヺ]/;
export const KATAKANA_RATIO = 0.875;
export const OCG_LETTER_RATIO = 1.000;

export const OCG_DOT_REGEX = new RegExp('[・]');
export const OCG_DOT_RATIO = 1.000;

export const CHOONPU_REGEX = new RegExp('[ー]');
export const CHOONPU_RATIO = 0.875;

const OCG_REDUCED_WIDTH_JOINLIST = '：';
export const OCG_REDUCED_WIDTH_REGEX = new RegExp(`[${OCG_REDUCED_WIDTH_JOINLIST}]`);
export const OCG_REDUCED_WIDTH_RATIO = 0.750;

const OCG_INCREASED_WIDTH_JOINLIST = '。､｢｣';
export const OCG_INCREASED_WIDTH_REGEX = new RegExp(`[${OCG_INCREASED_WIDTH_JOINLIST}]`);
export const OCG_INCREASED_WIDTH_RATIO = 1.250;

export const OCG_REDUCED_AT_LAST_SENTENCE_REGEX = new RegExp(`[${OCG_INCREASED_WIDTH_JOINLIST}${OCG_REDUCED_WIDTH_JOINLIST}]`);
export const OCG_REDUCED_AT_LAST_SENTENCE_RATIO = 0.500;

export const BULLET_LETTER = '●';
export const getBulletSpacing = (format: string) => format === 'tcg' ? 5 : 1;

export const MAX_LINE_REVERSE_INDENT = 20;
export const START_OF_LINE_ALPHABET_OFFSET = 4;